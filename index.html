<!DOCTYPE html>
<html lang="en">
<head>
<title>Tea GL</title>
<meta charset="utf-8">
<style>
body {
  width: 100%;
  height: 100%;
  background-color: #000;
  color: #fff;
  margin: 0px;
  padding: 0;
  overflow: hidden;
}
</style>
</head>
<body>
</body>
<script src="./src/three.min.js"></script>
<script src="./src/ngui.js"></script>
<script>

var guiRender = new WebGL.Renderer({antialias: true});
document.body.appendChild(guiRender.domElement);
UnityEngine.Resources.Load('./res/test1/Wooden Atlas.js', 'UIAtlas');
UnityEngine.Resources.loadAllFinish = function(){
  UnityEngine.Resources.Load('./res/test1/UI Root.js', 'GameObject', function(go) {
    NGUITools.screenSize.x = guiRender.domElement.clientWidth;
    NGUITools.screenSize.y = guiRender.domElement.clientHeight;
    console.log(NGUITools.screenSize);

    var uiRoot = go.GetComponentInChildren('UIRoot');
    uiRoot.Update();

    uiRoot.camera.setAspect(guiRender.domElement.clientWidth / guiRender.domElement.clientHeight);
    console.log(uiRoot.camera.projectionMatrix);

    go.transform.Update();
    
    NGUI.UIPanel.UpdateAll();


    var guiPlugin = new WebGL.GUIPlugin(guiRender, uiRoot);
    function render() {
      //requestAnimationFrame( render );
      guiPlugin.render();
    }
    render();
  });
};

//UnityEngine.Resources.Load('./res/test2/UI_Atlas_Login.js', 'UIAtlas');
//UnityEngine.Resources.Load('./res/test2/NoticeWnd.js', 'GameObject');
/*
  var renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setPixelRatio(window.devicePixelRatio);
  document.body.appendChild(renderer.domElement);
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera(75, window.innerHeight / window.innerWidth, 0.1, 10000);

  var geometry = new THREE.BoxGeometry( 1, 1, 1 );
  var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
  var cube = new THREE.Mesh( geometry, material );
  scene.add( cube );
  camera.position.z = 5;

  function render() {
    requestAnimationFrame( render );
    cube.rotation.x += 0.1;
    cube.rotation.y += 0.1;
    renderer.render( scene, camera );
  }
  render();
*/

</script>
</html>